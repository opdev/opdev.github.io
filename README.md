# Running opdev.github.io

#### If you do not have ruby installed, follow these steps:

##### MacOS
1. `brew install chruby ruby-install`
    - for Macs, followed these instructions [install chruby & ruby](https://stackoverflow.com/questions/51126403/you-dont-have-write-permissions-for-the-library-ruby-gems-2-3-0-directory-ma)

2. `ruby-install ruby` then exit terimal after installation

3. Open new terminal and `chruby 3.1.3`
    - troubleshoot by checking out ruby version: `ruby -v`
##### Fedora
Install ruby and development tools (preferably in a [toolbx]*(https://containertoolbx.org) or [distrobox](https://github.com/89luca89/distrobox) container):
```bash
sudo dnf install ruby rubygems ruby-devel gcc gcc-c++ rpm-build
```

#### Fork and clone the repo:
1. fork opdev github pages [repo](https://github.com/opdev/opdev.github.io)
2. `git clone` from your forked repo

#### In opdev.github.io folder, run the steps below to live serve pages:
3. `gem install jekyll bundler` (you might need `sudo` on Fedora)
4. If desired, add your `GEM_HOME` to your `PATH` (example instructions for `bash`):
```bash
echo 'export GEM_HOME="$HOME/gems"' >> ~/.bashrc
echo 'export PATH="$HOME/gems/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

#### Regenerate all gemspecs if needed:
5. `gem pristine --all`

#### Run Bundler update
6. `bundler update`

#### Run live server:
7. `jekyll serve -l` or `jekyll serve --drafts` to test draft posts.

<br></br>

---
# Submit a Post

    Note for Video Submission: Upload your video to Youtube frist and get the `embed` link from YouTube via the share button below the video player.
### Create your file in `__drafts`

1. Create a Markdown file in the `_drafts` directory and add your Jekyll-specific front matter (title, date, author, description, categories). Take a look at the _categories folder to see current selection of existing categories that can be chose.

        ---
        title: Operator 101
        date: 2022-02-02
        description: A general overview of operators and how to use them.
        categories: documentation
        ---

2. Write your content || Paste the embed link into the body if you are submitting a video
### Test your posts and submit a PR

3. Run `jekyll serve --drafts` to run your local development server. Check that your post works and looks as desired.
4. Keep the post in `__drafts` and commit your changes and submit a pull request for your new post.
5. Someone from the team will review you request and provide feedback. Once final edits and revisions are made, the article will get approved and merged to `__drafts`.
6. Once your PR is merged into` __drafts`, an admin will review your post once more and create a new PR and merge it into `__posts` for it to be available live on the site.


<br></br>

---
# File structure breakdown

**_categories** : contains an auto-generated MDs for individual categories contained in each article for easier organization and collection of articles into groups

**_drafts** : contains posts that are still in the drafting stage and have not been reviewed by the team for publication yet

**_includes** : contain code snippets that are included in other files via the `{% include scripts.html %}` tag

**_layouts** : contain the default html template structures of the entire site

**_pages** : contain static sites and will appear as `opdev.github.io/static-site.html`

**_plugins** : contain all extra ruby functionality for automated tasks (Github limits custom Jekyll plugins)

**_posts** : contains posts that have been reviewd by the team and are publicated live on the site

**_site** : contains all sites and is autogenerated by jekyll and requires no intervention

**assests** : contain css, fonts, images,& js files

**_config.yml** : contains route configurations and page layout specifications
